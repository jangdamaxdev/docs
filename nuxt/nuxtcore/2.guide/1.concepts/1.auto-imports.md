---
title: Auto-imports
description: "Nuxt auto-imports components, composables, helper functions and Vue APIs."
---

Nuxt tự động import các component, composable và [Vue.js API](https://vuejs.org/api) để sử dụng trong toàn bộ ứng dụng của bạn mà không cần import chúng một cách tường minh.

```vue twoslash [app.vue]
<script setup lang="ts">
const count = ref(1) // ref được auto-imported
</script>
```

Nhờ vào cấu trúc thư mục có định hướng của nó, Nuxt có thể tự động import các [`components/`](/docs/guide/directory-structure/components), [`composables/`](/docs/guide/directory-structure/composables) và [`utils/`](/docs/guide/directory-structure/utils) của bạn.

Trái ngược với khai báo global truyền thống, Nuxt bảo tồn kiểu dữ liệu, hoàn thiện IDE và gợi ý, và **chỉ bao gồm những gì được sử dụng trong code production của bạn**.

::note
Trong tài liệu, mọi hàm không được import tường minh đều được auto-imported bởi Nuxt và có thể được sử dụng như vậy trong code của bạn. Bạn có thể tìm thấy tài liệu tham khảo cho các component, composable và utility được auto-imported trong [phần API](/docs/api).
::

::note
Trong thư mục [`server`](/docs/guide/directory-structure/server), Nuxt tự động import các hàm và biến được export từ `server/utils/`.
::

::note
Bạn cũng có thể tự động import các hàm được export từ các thư mục tùy chỉnh hoặc package third-party bằng cách cấu hình phần [`imports`](/docs/api/nuxt-config#imports) trong file `nuxt.config` của bạn.
::

## Built-in Auto-imports

Nuxt tự động import các hàm và composable để thực hiện [data fetching](/docs/getting-started/data-fetching), truy cập vào [app context](/docs/api/composables/use-nuxt-app) và [runtime config](/docs/guide/going-further/runtime-config), quản lý [state](/docs/getting-started/state-management) hoặc định nghĩa component và plugin.

```vue twoslash
<script setup lang="ts">
/* useFetch() được auto-imported */
const { data, refresh, status } = await useFetch('/api/hello')
</script>
```

Vue expose các Reactivity API như `ref` hoặc `computed`, cũng như các lifecycle hook và helper được auto-imported bởi Nuxt.

```vue twoslash
<script setup lang="ts">
/* ref() và computed() được auto-imported */
const count = ref(1)
const double = computed(() => count.value * 2)
</script>
```

### Vue and Nuxt Composables

<!-- TODO: move to separate page with https://github.com/nuxt/nuxt/issues/14723 and add more information -->

Khi bạn sử dụng các composable Composition API có sẵn được cung cấp bởi Vue và Nuxt, hãy lưu ý rằng nhiều trong số chúng phụ thuộc vào việc được gọi trong đúng _context_.

Trong quá trình lifecycle của component, Vue theo dõi instance tạm thời của component hiện tại (và tương tự, Nuxt theo dõi instance tạm thời của `nuxtApp`) thông qua một biến global, và sau đó bỏ thiết lập nó trong cùng tick. Điều này rất quan trọng khi server rendering, cả để tránh ô nhiễm state giữa các request (rò rỉ tham chiếu được chia sẻ giữa hai người dùng) và để tránh rò rỉ giữa các component khác nhau.

Điều đó có nghĩa là (với rất ít ngoại lệ) bạn không thể sử dụng chúng bên ngoài Nuxt plugin, Nuxt route middleware hoặc Vue setup function. Hơn nữa, bạn phải sử dụng chúng một cách đồng bộ - tức là, bạn không thể sử dụng `await` trước khi gọi composable, ngoại trừ trong các block `<script setup>`, trong setup function của component được khai báo với `defineNuxtComponent`, trong `defineNuxtPlugin` hoặc trong `defineNuxtRouteMiddleware`, nơi chúng tôi thực hiện transform để giữ context đồng bộ ngay cả sau `await`.

Nếu bạn gặp thông báo lỗi như `Nuxt instance is unavailable` thì có thể có nghĩa là bạn đang gọi Nuxt composable ở sai vị trí trong lifecycle Vue hoặc Nuxt.

:video-accordion{title="Xem video từ Alexander Lichter về việc tránh lỗi 'Nuxt instance is unavailable'" videoId="ofuKRZLtOdY"}

::tip
Khi sử dụng composable yêu cầu Nuxt context bên trong component không phải SFC, bạn cần wrap component của mình với `defineNuxtComponent` thay vì `defineComponent`
::

::read-more{to="/docs/guide/going-further/experimental-features#asynccontext" icon="i-lucide-star"}
Kiểm tra tính năng thử nghiệm `asyncContext` để sử dụng Nuxt composable trong các hàm async.
::

::read-more{to="https://github.com/nuxt/nuxt/issues/14269#issuecomment-1397352832" target="_blank"}
Xem giải thích đầy đủ trong GitHub comment này.
::

**Ví dụ về code bị lỗi:**

```ts twoslash [composables/example.ts]
// cố gắng truy cập runtime config bên ngoài composable
const config = useRuntimeConfig()

export const useMyComposable = () => {
  // truy cập runtime config ở đây
}
```

**Ví dụ về code hoạt động:**

```ts twoslash [composables/example.ts]
export const useMyComposable = () => {
  // Bởi vì composable của bạn được gọi ở đúng vị trí trong lifecycle,
  // useRuntimeConfig sẽ hoạt động ở đây
  const config = useRuntimeConfig()

  // ...
}
```

## Directory-based Auto-imports

Nuxt trực tiếp tự động import các file được tạo trong các thư mục được định nghĩa:

- `components/` cho [Vue components](/docs/guide/directory-structure/components).
- `composables/` cho [Vue composables](/docs/guide/directory-structure/composables).
- `utils/` cho các helper function và utility khác.

:link-example{to="/docs/examples/features/auto-imports"}

::warning
**`ref` và `computed` được auto-imported sẽ không được unwrap trong `<template>` của component.** :br
Điều này là do cách Vue hoạt động với các ref không phải top-level với template. Bạn có thể đọc thêm về điều này [trong tài liệu Vue](https://vuejs.org/guide/essentials/reactivity-fundamentals.html#caveat-when-unwrapping-in-templates).
::

### Explicit Imports

Nuxt expose mọi auto-import với alias `#imports` có thể được sử dụng để làm cho import trở nên tường minh nếu cần:

<!-- TODO:twoslash: Twoslash does not support tsconfig paths yet -->

```vue
<script setup lang="ts">
import { ref, computed } from '#imports'

const count = ref(1)
const double = computed(() => count.value * 2)
</script>
```

### Disabling Auto-imports

Nếu bạn muốn vô hiệu hóa việc auto-importing composable và utility, bạn có thể đặt `imports.autoImport` thành `false` trong file `nuxt.config`.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  imports: {
    autoImport: false
  }
})
```

Điều này sẽ vô hiệu hóa hoàn toàn auto-imports nhưng vẫn có thể sử dụng [explicit imports](#explicit-imports) từ `#imports`.

### Partially Disabling Auto-imports

Nếu bạn muốn các hàm đặc thù framework như `ref` vẫn được auto-imported nhưng muốn vô hiệu hóa auto-imports cho code của riêng bạn (ví dụ: composable tùy chỉnh), bạn có thể đặt tùy chọn `imports.scan` thành `false` trong file `nuxt.config.ts` của bạn:

```ts
export default defineNuxtConfig({
  imports: {
    scan: false
  }
})
```

Với cấu hình này:
- Các hàm framework như `ref`, `computed`, hoặc `watch` sẽ vẫn hoạt động mà không cần import thủ công.
- Code tùy chỉnh, chẳng hạn như composable, sẽ cần được import thủ công trong các file của bạn.

::warning
**Cảnh báo:** Thiết lập này có một số hạn chế nhất định:
- Nếu bạn cấu trúc dự án của mình với layer, bạn sẽ cần phải import tường minh các composable từ mỗi layer, thay vì dựa vào auto-imports.
- Điều này phá vỡ tính năng override của layer system. Nếu bạn sử dụng `imports.scan: false`, hãy đảm bảo bạn hiểu tác dụng phụ này và điều chỉnh kiến trúc của bạn cho phù hợp.
::

## Auto-imported Components

Nuxt cũng tự động import các component từ thư mục `~/components` của bạn, mặc dù điều này được cấu hình riêng biệt với việc auto-importing composable và utility function.

:read-more{to="/docs/guide/directory-structure/components"}

Để vô hiệu hóa việc auto-importing component từ thư mục `~/components` của riêng bạn, bạn có thể đặt `components.dirs` thành một mảng rỗng (lưu ý rằng điều này sẽ không ảnh hưởng đến các component được thêm bởi module).

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  components: {
    dirs: []
  }
})
```

## Auto-import from Third-Party Packages

Nuxt cũng cho phép auto-importing từ các package third-party.

::tip
Nếu bạn đang sử dụng Nuxt module cho package đó, có khả năng module đã cấu hình auto-imports cho package đó rồi.
::

Ví dụ, bạn có thể bật auto-import của composable `useI18n` từ package `vue-i18n` như thế này:

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  imports: {
    presets: [
      {
        from: 'vue-i18n',
        imports: ['useI18n']
      }
    ]
  }
})
```

:video-accordion{title="Xem video từ Alexander Lichter về cách dễ dàng thiết lập custom auto imports" videoId="FT2LQJ2NvVI"}