---
title: "Experimental Features"
description: "Enable Nuxt experimental features to unlock new possibilities."
---

Nuxt bao gồm experimental features mà bạn có thể enable trong configuration file của mình.

Internally, Nuxt sử dụng `@nuxt/schema` để define những experimental features này. Bạn có thể refer đến [API documentation](/docs/api/configuration/nuxt-config#experimental) hoặc [source code](https://github.com/nuxt/nuxt/blob/main/packages/schema/src/config/experimental.ts) để biết thêm thông tin.

::note
Lưu ý rằng những features này là experimental và có thể bị remove hoặc modified trong tương lai.
::

## asyncContext

Enable native async context để accessible cho nested composables trong Nuxt và trong Nitro. Điều này mở khả năng sử dụng composables bên trong async composables và giảm chance để get `Nuxt instance is unavailable` error.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    asyncContext: true
  }
})
```

::read-more{icon="i-simple-icons-github" to="https://github.com/nuxt/nuxt/pull/20918" target="_blank"}
Xem full explanation trên GitHub pull-request.
::

## asyncEntry

Enables generation của async entry point cho Vue bundle, aiding module federation support.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    asyncEntry: true
  }
})
```

## externalVue

Externalizes `vue`, `@vue/*` và `vue-router` khi building.

*Enabled by default.*

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    externalVue: true
  }
})
```

::warning
Feature này sẽ likely bị remove trong future gần.
::

## emitRouteChunkError

Emits `app:chunkError` hook khi có error loading vite/webpack chunks. Default behavior là perform reload của route mới khi navigation đến route mới khi chunk fails to load.

Nếu bạn set nó thành `'automatic-immediate'` Nuxt sẽ reload current route immediately, thay vì waiting cho navigation. Điều này useful cho chunk errors không được triggered bởi navigation, e.g., khi Nuxt app của bạn fails để load [lazy component](/docs/guide/directory-structure/components#dynamic-imports). Potential downside của behavior này là undesired reloads, e.g., khi app của bạn không cần chunk gây ra error.

Bạn có thể disable automatic handling bằng cách set nó thành `false`, hoặc handle chunk errors manually bằng cách set nó thành `manual`.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    emitRouteChunkError: 'automatic' // or 'automatic-immediate', 'manual' or false
  }
})
```

## restoreState

Cho phép Nuxt app state được restored từ `sessionStorage` khi reloading page sau chunk error hoặc manual [`reloadNuxtApp()`](/docs/api/utils/reload-nuxt-app) call.

Để tránh hydration errors, nó sẽ được applied chỉ sau Vue app đã được mounted, nghĩa là có thể có flicker trên initial load.

::important
Consider carefully trước khi enabling vì nó có thể cause unexpected behavior,
và consider providing explicit keys cho [`useState`](/docs/api/composables/use-state) vì auto-generated keys có thể không match across builds.
::

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    restoreState: true
  }
})
```

## inlineRouteRules

Define route rules tại page level bằng [`defineRouteRules`](/docs/api/utils/define-route-rules).

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    inlineRouteRules: true
  }
})
```

Matching route rules sẽ được created, based trên `path` của page.

::read-more{to="/docs/api/utils/define-route-rules" icon="i-lucide-square-function"}
Đọc thêm trong `defineRouteRules` utility.
::

:read-more{to="/docs/guide/concepts/rendering#hybrid-rendering" icon="i-lucide-medal"}

## renderJsonPayloads

Cho phép rendering của JSON payloads với support cho revivifying complex types.

*Enabled by default.*

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    renderJsonPayloads: true
  }
})
```

## noVueServer

Disables Vue server renderer endpoint trong Nitro.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    noVueServer: true
  }
})
```

## payloadExtraction

Enables extraction của payloads của pages generated với `nuxt generate`.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    payloadExtraction: true
  }
})
```

## clientFallback

Enables experimental [`<NuxtClientFallback>`](/docs/api/components/nuxt-client-fallback) component để rendering content trên client nếu có error trong SSR.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    clientFallback: true
  }
})
```

## crossOriginPrefetch

Enables cross-origin prefetch sử dụng Speculation Rules API.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    crossOriginPrefetch: true
  }
})
```

::read-more{icon="i-simple-icons-w3c" to="https://wicg.github.io/nav-speculation/prefetch.html" target="_blank"}
Đọc thêm về **Speculation Rules API**.
::

## viewTransition

Enables View Transition API integration với client-side router.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    viewTransition: true
  }
})
```

:link-example{to="https://stackblitz.com/edit/nuxt-view-transitions?file=app.vue" target="_blank"}

::read-more{icon="i-simple-icons-mdnwebdocs" to="https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API" target="_blank"}
Đọc thêm về **View Transition API**.
::

## writeEarlyHints

Enables writing của early hints khi using node server.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    writeEarlyHints: true
  }
})
```

## componentIslands

Enables experimental component islands support với [`<NuxtIsland>`](/docs/api/components/nuxt-island) và `.island.vue` files.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    componentIslands: true // false or 'local+remote'
  }
})
```

:read-more{to="/docs/guide/directory-structure/components#server-components"}

::read-more{icon="i-simple-icons-github" to="https://github.com/nuxt/nuxt/issues/19772" target="_blank"}
Bạn có thể follow server components roadmap trên GitHub.
::

## localLayerAliases

Resolve `~`, `~~`, `@` và `@@` aliases located trong layers với respect đến layer source và root directories của chúng.

*Enabled by default.*

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    localLayerAliases: true
  }
})
```

## typedPages

Enable new experimental typed router sử dụng [`unplugin-vue-router`](https://github.com/posva/unplugin-vue-router).

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    typedPages: true
  }
})
```

Out of the box, điều này sẽ enable typed usage của [`navigateTo`](/docs/api/utils/navigate-to), [`<NuxtLink>`](/docs/api/components/nuxt-link), [`router.push()`](/docs/api/composables/use-router) và more.

Bạn even có thể get typed params trong page bằng cách sử dụng `const route = useRoute('route-name')`.

::important
Nếu bạn sử dụng `pnpm` without `shamefully-hoist=true`, bạn sẽ cần có `unplugin-vue-router` installed như devDependency để feature này hoạt động.
::

:video-accordion{title="Watch a video from Daniel Roe explaining type-safe routing in Nuxt" videoId="SXk-L19gTZk"}

## watcher

Set alternative watcher sẽ được sử dụng như watching service cho Nuxt.

Nuxt sử dụng `chokidar-granular` by default, sẽ ignore top-level directories
(like `node_modules` và `.git`) excluded từ watching.

Bạn có thể set nó thành `parcel` để sử dụng `@parcel/watcher`, có thể improve
performance trong large projects hoặc trên Windows platforms.

Bạn cũng có thể set nó thành `chokidar` để watch tất cả files trong source directory của bạn.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    watcher: 'chokidar-granular' // 'chokidar' or 'parcel' are also options
  }
})
```

## sharedPrerenderData

Nuxt automatically shares payload *data* giữa pages được prerendered. Điều này có thể result trong significant performance improvement khi prerendering sites sử dụng `useAsyncData` hoặc `useFetch` và fetch cùng data trong different pages.

Bạn có thể disable feature này nếu needed.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    sharedPrerenderData: false
  }
})
```

:video-accordion{title="Watch a video from Alexander Lichter about the experimental sharedPrerenderData" videoId="1jUupYHVvrU"}

Điều này particularly important khi enabling feature này để make sure rằng unique key của data
luôn resolvable đến cùng data. Ví dụ, nếu bạn đang sử dụng `useAsyncData` để fetch
data related đến particular page, bạn nên provide key uniquely matches data đó. (`useFetch`
should do this automatically cho bạn.)

```ts
// Điều này sẽ unsafe trong dynamic page (e.g. `[slug].vue`) vì route slug makes a difference
// đến data fetched, nhưng Nuxt không thể know rằng vì nó không reflected trong key.
const route = useRoute()
const { data } = await useAsyncData(async () => {
  return await $fetch(`/api/my-page/${route.params.slug}`)
})
// Thay vào đó, bạn nên sử dụng key uniquely identifies data fetched.
const { data } = await useAsyncData(route.params.slug, async () => {
  return await $fetch(`/api/my-page/${route.params.slug}`)
})
```

## clientNodeCompat

Với feature này, Nuxt sẽ automatically polyfill Node.js imports trong client build sử dụng [`unenv`](https://github.com/unjs/unenv).

::note
Để make globals như `Buffer` work trong browser, bạn cần manually inject chúng.

```ts
import { Buffer } from 'node:buffer'

globalThis.Buffer = globalThis.Buffer || Buffer
```
::

## scanPageMeta

Nuxt exposing một số route metadata defined trong `definePageMeta` tại build-time cho modules (specifically `alias`, `name`, `path`, `redirect`, `props` và `middleware`).

Điều này chỉ work với static hoặc strings/arrays chứ không phải variables hoặc conditional assignment. Xem [original issue](https://github.com/nuxt/nuxt/issues/24770) để biết thêm information và context.

By default page metadata chỉ được scanned sau khi tất cả routes đã được registered trong `pages:extend`. Sau đó another hook, `pages:resolved` sẽ được called.

Bạn có thể disable feature này nếu nó causes issues trong project của bạn.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    scanPageMeta: false
  }
})
```

## cookieStore

Enables CookieStore support để listen cho cookie updates (nếu supported bởi browser) và refresh `useCookie` ref values.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    cookieStore: true
  }
})
```

::read-more{icon="i-simple-icons-mdnwebdocs" to="https://developer.mozilla.org/en-US/docs/Web/API/CookieStore" target="_blank"}
Đọc thêm về **CookieStore**.
::

## buildCache

Caches Nuxt build artifacts based trên hash của configuration và source files.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    buildCache: true
  }
})
```

Khi enabled, changes đến following files sẽ trigger full rebuild:

```bash [Directory structure]
.nuxtrc
.npmrc
package.json
package-lock.json
yarn.lock
pnpm-lock.yaml
tsconfig.json
bun.lock
bun.lockb
```

Ngoài ra, bất kỳ changes nào đến files trong `srcDir` sẽ trigger rebuild của Vue client/server bundle. Nitro sẽ always được rebuilt (though work đang in progress để allow Nitro announce cacheable artifacts của nó và hashes).

::note
Maximum của 10 cache tarballs được kept.
::

## extraPageMetaExtractionKeys

`definePageMeta()` macro là useful way để collect build-time meta về pages. Nuxt itself provides set list của supported keys được sử dụng để power một số internal features như redirects, page aliases và custom paths.

Option này allows passing additional keys để extract từ page metadata khi using `scanPageMeta`.

```vue
<script lang="ts" setup>
definePageMeta({
  foo: 'bar'
})
</script>
```

```ts
export default defineNuxtConfig({
  experimental: {
    extraPageMetaExtractionKeys: ['foo'],
  },
  hooks: {
    'pages:resolved' (ctx) {
      // ✅ foo is available
    },
  },
})
```

Điều này allows modules access additional metadata từ page metadata trong build context. Nếu bạn đang using this trong module, recommended cũng để [augment NuxtPage types với keys của bạn](/docs/guide/directory-structure/pages#typing-custom-metadata).

## normalizeComponentNames

Nuxt updates auto-generated Vue component names để match full component name bạn sẽ use để auto-import component.

Nếu bạn encounter issues, bạn có thể disable feature này.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    normalizeComponentNames: false
  }
})
```

By default, nếu bạn haven't set nó manually, Vue sẽ assign component name matches
filename của component.

```bash [Directory structure]
├─ components/
├─── SomeFolder/
├───── MyComponent.vue
```

Trong case này, component name sẽ là `MyComponent`, as far as Vue concerned. Nếu bạn wanted sử dụng `<KeepAlive>` với nó, hoặc identify nó trong Vue DevTools, bạn sẽ need sử dụng component này.

Nhưng để auto-import nó, bạn sẽ need `SomeFolderMyComponent`.

Bằng cách setting `experimental.normalizeComponentNames`, hai values này match, và Vue sẽ generate component name matches Nuxt pattern cho component naming.

## spaLoadingTemplateLocation

Khi rendering client-only page (với `ssr: false`), chúng ta optionally render loading screen (từ `~/spa-loading-template.html`).

Nó có thể được set thành `within`, sẽ render nó như này:

```html
<div id="__nuxt">
  <!-- spa loading template -->
</div>
```

Alternatively, bạn có thể render template alongside Nuxt app root bằng cách setting nó thành `body`:

```html
<div id="__nuxt"></div>
<!-- spa loading template -->
```

Điều này avoids white flash khi hydrating client-only page.

## browserDevtoolsTiming

Enables performance markers cho Nuxt hooks trong browser devtools. Điều này adds performance markers mà bạn có thể track trong Performance tab của Chromium-based browsers, useful cho debugging và optimizing performance.

Điều này enabled by default trong development mode. Nếu bạn need disable feature này, possible để do so:

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    browserDevtoolsTiming: false
  }
})
```

::read-more{icon="i-simple-icons-github" color="gray" to="https://github.com/nuxt/nuxt/pull/29922" target="_blank"}
Xem PR #29922 cho implementation details.
::

::read-more{icon="i-simple-icons-googlechrome" color="gray" to="https://developer.chrome.com/docs/devtools/performance/extension#tracks" target="_blank"}
Tìm hiểu thêm về Chrome DevTools Performance API.
::

## debugModuleMutation

Records mutations đến `nuxt.options` trong module context, helping debug configuration changes made bởi modules trong Nuxt initialization phase.

Điều này enabled by default khi `debug` mode enabled. Nếu bạn need disable feature này, possible để do so:

Để enable nó explicitly:

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    debugModuleMutation: true
  }
})
```

::read-more{icon="i-simple-icons-github" color="gray" to="https://github.com/nuxt/nuxt/pull/30555" target="_blank"}
Xem PR #30555 cho implementation details.
::

## lazyHydration

Điều này enables hydration strategies cho `<Lazy>` components, improves performance bằng cách deferring hydration của components cho đến khi chúng needed.

Lazy hydration enabled by default, nhưng bạn có thể disable feature này:

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    lazyHydration: false
  }
})
```

::read-more{icon="i-simple-icons-github" color="gray" to="/docs/guide/directory-structure/components#delayed-or-lazy-hydration"}
Đọc thêm về lazy hydration.
::

## templateImportResolution

Controls cách imports trong Nuxt templates được resolved. By default, Nuxt attempts resolve imports trong templates relative đến module added chúng.

Điều này enabled by default, nên nếu bạn experiencing resolution conflicts trong certain environments, bạn có thể disable behavior này:

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    templateImportResolution: false
  }
})
```

::read-more{icon="i-simple-icons-github" color="gray" to="https://github.com/nuxt/nuxt/pull/31175" target="_blank"}
Xem PR #31175 cho implementation details.
::

## decorators

Option này enables enabling decorator syntax across entire Nuxt/Nitro app của bạn, powered bởi [esbuild](https://github.com/evanw/esbuild/releases/tag/v0.21.3).

For long time, TypeScript has had support cho decorators via `compilerOptions.experimentalDecorators`. Implementation này predated TC39 standardization process. Now, decorators là [Stage 3 Proposal](https://github.com/tc39/proposal-decorators), và supported without special configuration trong TS 5.0+ (see https://github.com/microsoft/TypeScript/pull/52582 và https://devblogs.microsoft.com/typescript/announcing-typescript-5-0-beta/#decorators).

Enabling `experimental.decorators` enables support cho TC39 proposal, **NOT** cho TypeScript's previous `compilerOptions.experimentalDecorators` implementation.

::warning
Note rằng có thể có changes trước khi finally lands trong JS standard.
::

### Usage

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    decorators: true,
  },
})
```

```ts [app.vue]
function something (_method: () => unknown) {
  return () => 'decorated'
}

class SomeClass {
  @something
  public someMethod () {
    return 'initial'
  }
}

const value = new SomeClass().someMethod()
// this will return 'decorated'
```

## purgeCachedData

Nuxt sẽ automatically purge cached data từ `useAsyncData` và `nuxtApp.static.data`. Điều này helps prevent memory leaks
và ensures fresh data được loaded khi needed, nhưng possible để disable nó:

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    purgeCachedData: false
  }
})
```

::read-more{icon="i-simple-icons-github" color="gray" to="https://github.com/nuxt/nuxt/pull/31379" target="_blank"}
Xem PR #31379 cho implementation details.
::

## granularCachedData

Whether để call và use result từ `getCachedData` khi refreshing data cho `useAsyncData` và `useFetch` (whether bởi `watch`, `refreshNuxtData()`, hoặc manual `refresh()` call.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    granularCachedData: true
  }
})
```

::read-more{icon="i-simple-icons-github" color="gray" to="https://github.com/nuxt/nuxt/pull/31373" target="_blank"}
Xem PR #31373 cho implementation details.
::

## pendingWhenIdle

Nếu set thành `false`, `pending` object returned từ `useAsyncData`, `useFetch`, `useLazyAsyncData` và `useLazyFetch` sẽ là computed property chỉ `true` khi `status` cũng pending.

Điều đó means rằng khi `immediate: false` được passed, `pending` sẽ `false` cho đến khi first request được made.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    pendingWhenIdle: false
  }
})
```
