---
title: 'composables'
head.title: 'composables/'
description: Sử dụng thư mục composables/ để tự động nhập các Vue composables vào ứng dụng của bạn.
navigation.icon: i-lucide-folder
---

## Usage

**Phương pháp 1:** Sử dụng xuất có tên

```js [composables/useFoo.ts]
export const useFoo = () => {
  return useState('foo', () => 'bar')
}
```

**Phương pháp 2:** Sử dụng xuất mặc định

```js [composables/use-foo.ts or composables/useFoo.ts]
// Nó sẽ có sẵn dưới dạng useFoo() (camelCase của tên tệp không có phần mở rộng)
export default function () {
  return useState('foo', () => 'bar')
}
```

**Cách sử dụng:** Bây giờ bạn có thể sử dụng composable được tự động nhập trong các tệp `.js`, `.ts` và `.vue`

```vue [app.vue]
<script setup lang="ts">
const foo = useFoo()
</script>

<template>
  <div>
    {{ foo }}
  </div>
</template>
```

::note
Thư mục `composables/` trong Nuxt không cung cấp bất kỳ khả năng reactivity bổ sung nào cho mã của bạn. Thay vào đó, bất kỳ reactivity nào trong composables đều được đạt được bằng cách sử dụng các cơ chế Composition API của Vue, chẳng hạn như ref và reactive. Lưu ý rằng mã reactive cũng không bị giới hạn ở ranh giới của thư mục `composables/`. Bạn có thể sử dụng các tính năng reactivity bất cứ nơi nào chúng được cần trong ứng dụng của bạn.
::

:read-more{to="/docs/guide/concepts/auto-imports"}

:link-example{to="/docs/examples/features/auto-imports"}

## Types

Bên dưới, Nuxt tự động tạo tệp `.nuxt/imports.d.ts` để khai báo các kiểu.

Hãy lưu ý rằng bạn phải chạy [`nuxt prepare`](/docs/api/commands/prepare), [`nuxt dev`](/docs/api/commands/dev) hoặc [`nuxt build`](/docs/api/commands/build) để cho phép Nuxt tạo các kiểu.

::note
Nếu bạn tạo một composable mà không có dev server đang chạy, TypeScript sẽ ném ra lỗi, chẳng hạn như `Cannot find name 'useBar'.`
::

## Examples

### Nested Composables

Bạn có thể sử dụng một composable trong một composable khác bằng cách sử dụng auto imports:

```js [composables/test.ts]
export const useFoo = () => {
  const nuxtApp = useNuxtApp()
  const bar = useBar()
}
```

### Access plugin injections

Bạn có thể truy cập [plugin injections](/docs/guide/directory-structure/plugins#providing-helpers) từ composables:

```js [composables/test.ts]
export const useHello = () => {
  const nuxtApp = useNuxtApp()
  return nuxtApp.$hello
}
```

## How Files Are Scanned

Nuxt chỉ quét các tệp ở cấp cao nhất của [thư mục `composables/`](/docs/guide/directory-structure/composables), ví dụ:

```bash [Directory Structure]
-| composables/
---| index.ts     // scanned
---| useFoo.ts    // scanned
---| nested/
-----| utils.ts   // not scanned
```

Chỉ `composables/index.ts` và `composables/useFoo.ts` mới được tìm kiếm để nhập.

Để làm cho auto imports hoạt động cho các module lồng nhau, bạn có thể re-export chúng (khuyến nghị) hoặc cấu hình scanner để bao gồm các thư mục lồng nhau:

**Ví dụ:** Re-export các composables bạn cần từ tệp `composables/index.ts`:

```ts [composables/index.ts]
// Cho phép auto import cho export này
export { utils } from './nested/utils.ts'
```

**Ví dụ:** Quét các thư mục lồng nhau bên trong thư mục `composables/`:

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  imports: {
    dirs: [
      // Quét composables cấp cao nhất
      '~/composables',
      // ... hoặc quét composables lồng nhau một cấp sâu với tên cụ thể và phần mở rộng tệp
      '~/composables/*/index.{ts,js,mjs,mts}',
      // ... hoặc quét tất cả composables trong thư mục đã cho
      '~/composables/**'
    ]
  }
})
```
